# https://docs.ansible.com/ansible/latest/collections/ansible/builtin/package_module.html
- name: Install vim and jq Packages
  hosts: ubuntu1
  become: yes
  vars:
    pack_list:
      - vim
      - jq
  tasks:
  - name: Install all packeges inside pack_list
    ansible.builtin.apt:
      name: "{{ item }}"
      state: present
    with_items: "{{ pack_list }}"
  - name: Check packages
    ansible.builtin.shell:
      cmd: which "{{ item }}" 
    with_items: "{{ pack_list }}"
    register: result
  - debug:
      msg: "{{ result.results }}"
